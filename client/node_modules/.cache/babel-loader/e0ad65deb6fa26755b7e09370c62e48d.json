{"ast":null,"code":"import axios from \"axios\";\nexport const PEDIR_DIETAS = \"PEDIR_DIETAS\";\nexport const TODAS_LAS_RECETAS = \"TODAS_LAS_RECETAS\";\nexport const DETAIL_RECETA = \"DETAIL_RECETA\";\nexport const FILTRO_ORIGIN = \"FILTRO_ORIGIN\";\nexport const FILTRO_DIETS = \"FILTRO_DIETS\";\nexport const SORT_ALFABETICO = \"SORT_ALFABETICO\";\nexport const SORT_SCORE = \"SORT_SCORE\";\nexport const SEARCH_BY_NAME = \"SEARCH_BY_NAME\";\nexport const pedirDietas = () => {\n  const endpoint = \"http://localhost:3001/diets\";\n  console.log(\"estas pidiendo las dietas\");\n  return dispatch => {\n    axios.get(endpoint).then(_ref => {\n      let {\n        data\n      } = _ref;\n      return dispatch({\n        type: PEDIR_DIETAS,\n        payload: data\n      });\n    });\n  };\n};\nexport const getAllRecipes = () => {\n  const endpoint = \"http://localhost:3001/recipe\";\n  console.log(\"estas pidiendo todas las recetas\");\n  return dispatch => {\n    axios.get(endpoint).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      return dispatch({\n        type: TODAS_LAS_RECETAS,\n        payload: data\n      });\n    });\n  };\n};\nexport const getRecipeDetail = id => {\n  const endpoint = `http://localhost:3001/recipe/${id}`;\n  console.log(\"estas pidiendo una receta especifica\");\n  return dispatch => {\n    axios.get(endpoint).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      return dispatch({\n        type: DETAIL_RECETA,\n        payload: data\n      });\n    });\n  };\n};\nexport const filterOrigen = arg => {\n  // ? arg siempre va a ser un array\n  const endpoint = \"http://localhost:3001/recipe\";\n  console.log(arg);\n  return dispatch => {\n    axios.get(endpoint).then(_ref4 => {\n      let {\n        data\n      } = _ref4;\n      if (arg.length === 1) {\n        if (arg.toString() === \"online\") {\n          const aux = data.allRecipes.filter(element => Number(element.id));\n          return dispatch({\n            type: FILTRO_ORIGIN,\n            payload: aux\n          });\n        } else {\n          const aux = data.allRecipes.filter(element => isNaN(element.id));\n          console.log(aux);\n          return dispatch({\n            type: FILTRO_ORIGIN,\n            payload: aux\n          });\n        }\n      } else {\n        return dispatch({\n          type: TODAS_LAS_RECETAS,\n          payload: data\n        });\n      }\n    });\n  };\n};\nexport const filterDiets = arg => {\n  const endpoint = \"http://localhost:3001/recipe\";\n  console.log(arg);\n  return dispatch => {\n    axios.get(endpoint).then(_ref5 => {\n      let {\n        data\n      } = _ref5;\n      if (arg.length === 12 || arg.length === 0) {\n        return dispatch({\n          type: TODAS_LAS_RECETAS,\n          payload: data\n        });\n      } else {\n        let recetasMatch = data.allRecipes.filter(element => {\n          if (element.diets.every(dieta => typeof dieta === \"string\"))\n            // * esto esta porque las recetas creadas en la db  tienen en diets un array de objetos con prop name, en lugar de una rray de strings\n            return element.diets.some(dieta => arg.includes(dieta));\n            //* por ende, si todo el array contiene strings (every) entonces nos preguntamos si ese array (dietas) tiene algunos (some) de los valores en el array que le mandamos, si se cumple el some da truey por ende pasa el filter\n          else {\n            return element.diets.some(dieta => arg.includes(dieta.name)); // * en el caso que el array no contenga strings, se hace el mismo proceso, tan solo que se accede a la prop name de cada obj\n          }\n        });\n\n        console.log(recetasMatch);\n        return dispatch({\n          type: FILTRO_DIETS,\n          payload: recetasMatch\n        });\n      }\n    });\n  };\n};\nexport const sortAlfabeticamente = value => {\n  console.log(\"llegamos a actions\");\n  return {\n    type: SORT_ALFABETICO,\n    payload: value\n  };\n};\nexport const sortScore = value => {\n  return {\n    type: SORT_SCORE,\n    payload: value\n  };\n};\nexport const searchName = value => {\n  const endpoint = `http://localhost:3001/recipe?name=${value}`;\n  return dispatch => {\n    axios.get(endpoint).then(_ref6 => {\n      let {\n        recipesMatch\n      } = _ref6;\n      console.log(recipesMatch);\n      return dispatch({\n        type: SEARCH_BY_NAME,\n        payload: recipesMatch\n      });\n    });\n  };\n};","map":{"version":3,"names":["axios","PEDIR_DIETAS","TODAS_LAS_RECETAS","DETAIL_RECETA","FILTRO_ORIGIN","FILTRO_DIETS","SORT_ALFABETICO","SORT_SCORE","SEARCH_BY_NAME","pedirDietas","endpoint","console","log","dispatch","get","then","_ref","data","type","payload","getAllRecipes","_ref2","getRecipeDetail","id","_ref3","filterOrigen","arg","_ref4","length","toString","aux","allRecipes","filter","element","Number","isNaN","filterDiets","_ref5","recetasMatch","diets","every","dieta","some","includes","name","sortAlfabeticamente","value","sortScore","searchName","_ref6","recipesMatch"],"sources":["C:/Users/HP/Desktop/PI-food-Vila/client/src/Redux/action.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const PEDIR_DIETAS = \"PEDIR_DIETAS\";\r\nexport const TODAS_LAS_RECETAS = \"TODAS_LAS_RECETAS\";\r\nexport const DETAIL_RECETA = \"DETAIL_RECETA\";\r\nexport const FILTRO_ORIGIN = \"FILTRO_ORIGIN\";\r\nexport const FILTRO_DIETS = \"FILTRO_DIETS\";\r\nexport const SORT_ALFABETICO = \"SORT_ALFABETICO\";\r\nexport const SORT_SCORE = \"SORT_SCORE\";\r\nexport const SEARCH_BY_NAME = \"SEARCH_BY_NAME\";\r\n\r\nexport const pedirDietas = () => {\r\n  const endpoint = \"http://localhost:3001/diets\";\r\n  console.log(\"estas pidiendo las dietas\");\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ data }) => {\r\n      return dispatch({\r\n        type: PEDIR_DIETAS,\r\n        payload: data,\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const getAllRecipes = () => {\r\n  const endpoint = \"http://localhost:3001/recipe\";\r\n  console.log(\"estas pidiendo todas las recetas\");\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ data }) => {\r\n      return dispatch({\r\n        type: TODAS_LAS_RECETAS,\r\n        payload: data,\r\n      });\r\n    });\r\n  };\r\n};\r\nexport const getRecipeDetail = (id) => {\r\n  const endpoint = `http://localhost:3001/recipe/${id}`;\r\n  console.log(\"estas pidiendo una receta especifica\");\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ data }) => {\r\n      return dispatch({\r\n        type: DETAIL_RECETA,\r\n        payload: data,\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const filterOrigen = (arg) => {\r\n  // ? arg siempre va a ser un array\r\n  const endpoint = \"http://localhost:3001/recipe\";\r\n  console.log(arg);\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ data }) => {\r\n      if (arg.length === 1) {\r\n        if (arg.toString() === \"online\") {\r\n          const aux = data.allRecipes.filter((element) => Number(element.id));\r\n          return dispatch({\r\n            type: FILTRO_ORIGIN,\r\n            payload: aux,\r\n          });\r\n        } else {\r\n          const aux = data.allRecipes.filter((element) => isNaN(element.id));\r\n          console.log(aux);\r\n          return dispatch({\r\n            type: FILTRO_ORIGIN,\r\n            payload: aux,\r\n          });\r\n        }\r\n      } else {\r\n        return dispatch({\r\n          type: TODAS_LAS_RECETAS,\r\n          payload: data,\r\n        });\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const filterDiets = (arg) => {\r\n  const endpoint = \"http://localhost:3001/recipe\";\r\n  console.log(arg);\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ data }) => {\r\n      if (arg.length === 12 || arg.length === 0) {\r\n        return dispatch({\r\n          type: TODAS_LAS_RECETAS,\r\n          payload: data,\r\n        });\r\n      } else {\r\n        let recetasMatch = data.allRecipes.filter((element) => {\r\n          if (element.diets.every((dieta) => typeof dieta === \"string\"))\r\n            // * esto esta porque las recetas creadas en la db  tienen en diets un array de objetos con prop name, en lugar de una rray de strings\r\n            return element.diets.some((dieta) => arg.includes(dieta));\r\n          //* por ende, si todo el array contiene strings (every) entonces nos preguntamos si ese array (dietas) tiene algunos (some) de los valores en el array que le mandamos, si se cumple el some da truey por ende pasa el filter\r\n          else {\r\n            return element.diets.some((dieta) => arg.includes(dieta.name)); // * en el caso que el array no contenga strings, se hace el mismo proceso, tan solo que se accede a la prop name de cada obj\r\n          }\r\n        });\r\n        console.log(recetasMatch);\r\n        return dispatch({\r\n          type: FILTRO_DIETS,\r\n          payload: recetasMatch,\r\n        });\r\n      }\r\n    });\r\n  };\r\n};\r\nexport const sortAlfabeticamente = (value) => {\r\n  console.log(\"llegamos a actions\");\r\n  return {\r\n    type: SORT_ALFABETICO,\r\n    payload: value,\r\n  };\r\n};\r\nexport const sortScore = (value) => {\r\n  return {\r\n    type: SORT_SCORE,\r\n    payload: value,\r\n  };\r\n};\r\n\r\nexport const searchName = (value) => {\r\n  const endpoint = `http://localhost:3001/recipe?name=${value}`;\r\n  return (dispatch) => {\r\n    axios.get(endpoint).then(({ recipesMatch }) => {\r\n      console.log(recipesMatch);\r\n      return dispatch({\r\n        type: SEARCH_BY_NAME,\r\n        payload: recipesMatch,\r\n      });\r\n    });\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}